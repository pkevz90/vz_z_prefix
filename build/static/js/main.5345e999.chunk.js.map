{"version":3,"sources":["index.js"],"names":["Login","props","loginFuncton","bind","action","username","target","previousSibling","value","password","this","auth","className","placeholder","type","onClick","click","React","Component","UserDisplay","getPosts","user","id","create","logout","CreateUser","createUser","button","a","firstName","lastName","password_check","style","display","justifyContent","width","flexDirection","marginTop","Header","setauth","BlogPost","state","edit","undefined","blog","editContent","deleteContent","createContent","newBlog","content","parentNode","innerText","title","blogFunction","setState","delete","contentStyle","backgroundColor","border","borderRadius","contentEditable","bloguser","createdAt","bloguserId","BlogDisplay","blogs","map","selectBlog","length","substring","App","testBlogs","selectedBlog","authenticated","setDisplayedBlog","flipCreateAccount","setAuthentication","logoutUser","displayCreateBlog","editBlog","deleteBlog","createBlog","createAccount","fetch","method","headers","body","JSON","stringify","response","status","json","document","checkAuthentication","userid","link","outBlogs","old","console","log","find","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.5345e999.chunk.js","sourcesContent":["\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props)\n    this.loginFuncton = this.loginFuncton.bind(this)\n  }\n  loginFuncton(action) {\n    let username = action.target.previousSibling.previousSibling.value\n    let password = action.target.previousSibling.value\n    this.props.auth(username, password)\n  }\n  render () {\n    return (\n      <>\n        <div>\n          <div className=\"input-form\">\n            <input placeholder=\"Username\"/>\n            <input placeholder=\"Password\" type=\"password\"/>\n            <button onClick={this.loginFuncton}>Login</button>\n            <button onClick={() => this.props.click()}>Create Account</button>\n          </div>\n        </div>\n      </>\n    )\n  }\n}\n\nclass UserDisplay extends React.Component {\n  render() {\n    return (\n      <div>\n        <div className=\"input-form\">\n          <button onClick={() => this.props.getPosts()}>All Posts</button>\n          <button onClick={() => this.props.getPosts(this.props.user.id)}>Your Posts</button>\n          <button onClick={() => this.props.create()}>Create Post</button>\n          <div>Welcome {this.props.user.username}!</div>\n          <button onClick={this.props.logout}>Logout</button>\n        </div>\n\n      </div>\n    )\n  }\n}\n\nclass CreateUser extends React.Component {\n  constructor(props) {\n    super(props)\n    this.createUser = this.createUser.bind(this)\n  }\n  async createUser(button) {\n    button = button.target\n    let firstName = button.previousSibling.previousSibling.previousSibling.previousSibling.previousSibling.value\n    let lastName = button.previousSibling.previousSibling.previousSibling.previousSibling.value\n    let username = button.previousSibling.previousSibling.previousSibling.value\n    let password = button.previousSibling.previousSibling.value\n    let password_check = button.previousSibling.value\n    if (password !== password_check) return\n    this.props.create(firstName, lastName, username, password)\n\n  }\n  render() {\n    let outerStyle = {\n      display: 'flex',\n      justifyContent: 'space-around',\n      width: '100%'\n    }\n\n    let innerStyle = {\n      display: 'flex',\n      justifyContent: 'space-around',\n      width: '200px',\n      flexDirection: 'column',\n      marginTop: '60px'\n    }\n    return (\n      <div style={outerStyle}>\n        <div style={innerStyle}>\n          <input placeholder=\"first name\"/>\n          <input placeholder=\"last name\"/>\n          <input placeholder=\"username\"/>\n          <input placeholder=\"password\" type=\"password\"/>\n          <input placeholder=\"confirm password\" type=\"password\"/>\n          <button onClick={this.createUser}>Create Account</button>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass Header extends React.Component {\n  render() {\n    return (\n      <>\n        <div className=\"header\">\n          <div className=\"brand-name\">\n            Tiger Blog\n          </div>\n          {this.props.auth ? <UserDisplay create={this.props.create} getPosts={this.props.getPosts} logout={this.props.logout} user={this.props.auth}></UserDisplay> : <Login auth={this.props.setauth} click={this.props.click}/>}\n        </div>\n      </>\n    )\n  }\n}\n\nclass BlogPost extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      edit: props.blog === undefined ? true : false\n    }\n    this.editContent = this.editContent.bind(this)\n    this.deleteContent = this.deleteContent.bind(this)\n    this.createContent = this.createContent.bind(this)\n  }\n  createContent(button) {\n    let newBlog = {\n      content: button.target.parentNode.previousSibling.innerText,\n      title: button.target.parentNode.previousSibling.previousSibling.previousSibling.previousSibling.innerText\n    }\n    this.props.blogFunction.create(newBlog)\n  }\n  editContent(button) {\n    if (!this.state.edit) {\n      this.setState({\n        edit: true\n      })\n      return\n    }\n    else {\n      this.setState({\n        edit: false\n      })\n\n    }\n    let newBlog = {\n      id: this.props.blog.id,\n      content: button.target.parentNode.previousSibling.innerText,\n      title: button.target.parentNode.previousSibling.previousSibling.previousSibling.previousSibling.innerText\n    }\n    this.props.blogFunction.edit(newBlog)\n  }\n  deleteContent() {\n    this.props.blogFunction.delete(this.props.blog.id)\n  }\n  render() {\n    let contentStyle = {\n      backgroundColor: '#CCC',\n      border: '1px solid black',\n      borderRadius: '10px'\n    }\n    contentStyle = this.props.blog === undefined  || this.state.edit ? contentStyle : {}\n    return (\n      <div className=\"blog-post\">\n        <div style={contentStyle} contentEditable={this.props.blog === undefined ? true : this.state.edit} className=\"blog-title\">{this.props.blog === undefined ? '' :  this.props.blog.title}</div>\n        <div>Created By: {this.props.blog === undefined ? '' : this.props.blog.bloguser.username}</div>\n        <div>{this.props.blog === undefined ? '' : this.props.blog.createdAt}</div>\n        <div style={contentStyle} contentEditable={this.props.blog === undefined ? true : this.state.edit}>{this.props.blog === undefined ? '' : this.props.blog.content}</div>\n        <div className=\"blog-post-buttons\">\n            <button onClick={() => this.props.click(undefined)}>Back to Posts</button>\n            {this.props.blog === undefined ? <button onClick={this.createContent}>Create</button> : this.props.auth.id === this.props.blog.bloguserId ? <button onClick={this.editContent}>{this.state.edit ? 'Save Changes' : 'Edit Post'}</button> : ''}\n            {this.props.blog === undefined ? '' : this.props.auth.id === this.props.blog.bloguserId ? <button onClick={this.deleteContent}>Delete Post</button> : ''}\n        </div>\n      </div>\n    )\n  }\n}\n\nclass BlogDisplay extends React.Component {\n  selectBlog(blog) {\n    this.props.click(blog)\n  }\n  render() {\n    return (\n      <div className=\"blog-display\">\n        {this.props.blogs.map((blog) => {\n          return (\n            <div className=\"blog-item noselect\" key={blog.id} onClick={() => this.selectBlog(blog.id)}>\n              <div className=\"blog-title\">{blog.title}</div>\n              <div>{blog.createdAt}</div>\n              <div>{blog.bloguser.username}</div>\n              <div>{blog.content.length > 100 ? blog.content.substring(0,101) + '...' : blog.content}</div>\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      testBlogs: [],\n      selectedBlog: undefined,\n      authenticated: false,\n      createUser: false\n    }\n    \n    this.setDisplayedBlog = this.setDisplayedBlog.bind(this)\n    this.flipCreateAccount = this.flipCreateAccount.bind(this)\n    this.setAuthentication = this.setAuthentication.bind(this)\n    this.logoutUser = this.logoutUser.bind(this)\n    this.getPosts = this.getPosts.bind(this)\n    this.displayCreateBlog = this.displayCreateBlog.bind(this)\n    this.editBlog = this.editBlog.bind(this)\n    this.deleteBlog = this.deleteBlog.bind(this)\n    this.createBlog = this.createBlog.bind(this)\n    this.createAccount = this.createAccount.bind(this)\n  }\n  async setAuthentication(username, password) {\n    let response = await fetch('/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({username, password})\n    })\n    if (response.status === 200) {\n      response = await response.json()\n      this.setState({authenticated: {\n        username: response.user,\n        id: response.id\n      }})\n      this.getPosts(response.id)\n    }\n    \n  }\n  componentDidMount() {\n    document.title = 'VZ Blog'\n    this.checkAuthentication()\n    this.getPosts(this.state.authenticated.id)\n  }\n  async getPosts(userid) {\n    let link = '/posts'\n    if (userid !== undefined) link += '/' + userid\n    let response = await fetch(link)\n    response = await response.json()\n    this.setState({\n      testBlogs: response.outBlogs\n    })\n  }\n  async checkAuthentication() {\n    let response = await fetch('/login/auth')\n    let status = response.status\n    response = await response.json()\n    if (status === 200) {\n      this.setState({\n        authenticated: {\n          username: response.user,\n          id: response.id\n        }\n      })\n    }\n    \n  }\n  setDisplayedBlog(blog) {\n    this.setState({selectedBlog: blog})\n  }\n  async logoutUser() {\n    let response = await fetch('/logout')\n    if (response.status === 200) {\n      this.setState({\n        authenticated: false,\n        selectedBlog: undefined\n      })\n      this.getPosts()\n    }\n  }\n  flipCreateAccount() {\n    let old = !this.state.createUser;\n    this.setState({createUser: old})\n  }\n  async createAccount(firstName, lastName, username, password) {\n    let response = await fetch('/create', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({firstName, lastName, username, password})\n    })\n    if (response.status === 201) {\n      console.log('success');\n    }\n    else {\n      console.log('failure');\n      return\n    }\n    this.setState({\n      createUser: false\n    })\n  }\n  async createBlog(newBlog) {\n    let response = await fetch('/blog', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n       },\n      body: JSON.stringify(newBlog)\n    })\n    response = await response.json()\n    this.setState({\n      testBlogs: response,\n      selectedBlog: undefined\n    })\n  }\n  async editBlog(newBlog) {\n    let response = await fetch('/post/' + newBlog.id, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(newBlog)\n    })\n    response = await response.json()\n    this.setState({\n      testBlogs: response\n    })\n  }\n  async deleteBlog(id) {\n    let response = await fetch('/post/' + id, {\n      method: 'DELETE'\n    })\n    response = await response.json()\n    this.setState({\n      testBlogs: response,\n      selectedBlog: undefined\n    })\n\n  }\n  displayCreateBlog() {\n    this.setState({\n      selectedBlog: 'create'\n    })\n  }\n  render() {\n    return (\n      <div>\n        <Header create={this.displayCreateBlog} logout={this.logoutUser} getPosts={this.getPosts} setauth={this.setAuthentication} click={this.flipCreateAccount} auth={this.state.authenticated}/>\n        {this.state.selectedBlog !== undefined && !this.state.createUser ? <BlogPost auth={this.state.authenticated} blog={this.state.testBlogs.find(blog => blog.id ===this.state.selectedBlog)} click={this.setDisplayedBlog} blogFunction={{edit: this.editBlog, delete: this.deleteBlog, create: this.createBlog}}/> : ''}\n        {this.state.selectedBlog === undefined && !this.state.createUser ? <BlogDisplay blogs={this.state.testBlogs} click={this.setDisplayedBlog}/>: ''}\n        {this.state.createUser ? <CreateUser create={this.createAccount}/> : ''}\n      </div>\n    )\n  }\n}\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}