{"version":3,"sources":["index.js"],"names":["Login","props","loginFuncton","bind","action","username","target","previousSibling","value","password","this","auth","className","bad","placeholder","type","onClick","click","React","Component","UserDisplay","getPosts","user","id","create","logout","CreateUser","createUser","state","badPassword","button","a","firstName","lastName","password_check","setState","style","display","justifyContent","width","flexDirection","marginTop","Header","setauth","BlogPost","edit","undefined","blog","editContent","deleteContent","createContent","newBlog","content","parentNode","innerText","title","blogFunction","delete","contentStyle","backgroundColor","border","borderRadius","contentEditable","bloguser","createdAt","bloguserId","BlogDisplay","blogs","map","selectBlog","length","substring","App","testBlogs","selectedBlog","authenticated","badLogin","badCreate","setDisplayedBlog","flipCreateAccount","setAuthentication","logoutUser","displayCreateBlog","editBlog","deleteBlog","createBlog","createAccount","fetch","method","headers","body","JSON","stringify","response","status","json","document","checkAuthentication","userid","link","outBlogs","old","find","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.da43cfb3.chunk.js","sourcesContent":["\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props)\n    this.loginFuncton = this.loginFuncton.bind(this)\n  }\n  loginFuncton(action) {\n    let username = action.target.previousSibling.previousSibling.value\n    let password = action.target.previousSibling.value\n    this.props.auth(username, password)\n  }\n  render () {\n    return (\n      <>\n        <div>\n          <div className={`input-form ${this.props.bad ? 'warning-login' : ''}`}>\n            <input placeholder=\"Username\"/>\n            <input placeholder=\"Password\" type=\"password\"/>\n            <button onClick={this.loginFuncton}>Login</button>\n            <button onClick={() => this.props.click()}>Create Account</button>\n          </div>\n        </div>\n      </>\n    )\n  }\n}\n\nclass UserDisplay extends React.Component {\n  render() {\n    return (\n      <div>\n        <div className=\"input-form\">\n          <button onClick={() => this.props.getPosts()}>All Posts</button>\n          <button onClick={() => this.props.getPosts(this.props.user.id)}>Your Posts</button>\n          <button onClick={() => this.props.create()}>Create Post</button>\n          <div>Welcome {this.props.user.username}!</div>\n          <button onClick={this.props.logout}>Logout</button>\n        </div>\n\n      </div>\n    )\n  }\n}\n\nclass CreateUser extends React.Component {\n  constructor(props) {\n    super(props)\n    this.createUser = this.createUser.bind(this)\n    this.state = {\n      badPassword: false\n    }\n  }\n  async createUser(button) {\n    button = button.target\n    let firstName = button.previousSibling.previousSibling.previousSibling.previousSibling.previousSibling.value\n    let lastName = button.previousSibling.previousSibling.previousSibling.previousSibling.value\n    let username = button.previousSibling.previousSibling.previousSibling.value\n    let password = button.previousSibling.previousSibling.value\n    let password_check = button.previousSibling.value\n    if (password !== password_check) {\n      this.setState({\n        badPassword: true\n      })\n      return\n    }\n    else {\n      this.setState({\n        badPassword: false\n      })\n    }\n    this.props.create(firstName, lastName, username, password)\n\n  }\n  render() {\n    let outerStyle = {\n      display: 'flex',\n      justifyContent: 'space-around',\n      width: '100%'\n    }\n\n    let innerStyle = {\n      display: 'flex',\n      justifyContent: 'space-around',\n      width: '200px',\n      flexDirection: 'column',\n      marginTop: '60px'\n    }\n    return (\n      <div style={outerStyle}>\n        <div className={(this.state.badPassword ? 'warning-password' :'')+ ' ' + (this.props.bad ? 'warning-create' :'')} style={innerStyle}>\n          <input placeholder=\"first name\"/>\n          <input placeholder=\"last name\"/>\n          <input placeholder=\"username\"/>\n          <input placeholder=\"password\" type=\"password\"/>\n          <input placeholder=\"confirm password\" type=\"password\"/>\n          <button onClick={this.createUser}>Create Account</button>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass Header extends React.Component {\n  render() {\n    return (\n      <>\n        <div className=\"header\">\n          <div className=\"brand-name\">\n            Tiger Blog\n          </div>\n          {this.props.auth ? <UserDisplay create={this.props.create} getPosts={this.props.getPosts} logout={this.props.logout} user={this.props.auth}></UserDisplay> : <Login bad={this.props.bad} auth={this.props.setauth} click={this.props.click}/>}\n        </div>\n      </>\n    )\n  }\n}\n\nclass BlogPost extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      edit: props.blog === undefined ? true : false\n    }\n    this.editContent = this.editContent.bind(this)\n    this.deleteContent = this.deleteContent.bind(this)\n    this.createContent = this.createContent.bind(this)\n  }\n  createContent(button) {\n    let newBlog = {\n      content: button.target.parentNode.previousSibling.innerText,\n      title: button.target.parentNode.previousSibling.previousSibling.previousSibling.previousSibling.innerText\n    }\n    this.props.blogFunction.create(newBlog)\n  }\n  editContent(button) {\n    if (!this.state.edit) {\n      this.setState({\n        edit: true\n      })\n      return\n    }\n    else {\n      this.setState({\n        edit: false\n      })\n\n    }\n    let newBlog = {\n      id: this.props.blog.id,\n      content: button.target.parentNode.previousSibling.innerText,\n      title: button.target.parentNode.previousSibling.previousSibling.previousSibling.previousSibling.innerText\n    }\n    this.props.blogFunction.edit(newBlog)\n  }\n  deleteContent() {\n    this.props.blogFunction.delete(this.props.blog.id)\n  }\n  render() {\n    let contentStyle = {\n      backgroundColor: '#CCC',\n      border: '1px solid black',\n      borderRadius: '10px'\n    }\n    contentStyle = this.props.blog === undefined  || this.state.edit ? contentStyle : {}\n    return (\n      <div className=\"blog-post\">\n        <div style={contentStyle} contentEditable={this.props.blog === undefined ? true : this.state.edit} className=\"blog-title\">{this.props.blog === undefined ? '' :  this.props.blog.title}</div>\n        <div>Created By: {this.props.blog === undefined ? '' : this.props.blog.bloguser.username}</div>\n        <div>{this.props.blog === undefined ? '' : this.props.blog.createdAt}</div>\n        <div style={contentStyle} contentEditable={this.props.blog === undefined ? true : this.state.edit}>{this.props.blog === undefined ? '' : this.props.blog.content}</div>\n        <div className=\"blog-post-buttons\">\n            <button onClick={() => this.props.click(undefined)}>Back to Posts</button>\n            {this.props.blog === undefined ? <button onClick={this.createContent}>Create</button> : this.props.auth.id === this.props.blog.bloguserId ? <button onClick={this.editContent}>{this.state.edit ? 'Save Changes' : 'Edit Post'}</button> : ''}\n            {this.props.blog === undefined ? '' : this.props.auth.id === this.props.blog.bloguserId ? <button onClick={this.deleteContent}>Delete Post</button> : ''}\n        </div>\n      </div>\n    )\n  }\n}\n\nclass BlogDisplay extends React.Component {\n  selectBlog(blog) {\n    this.props.click(blog)\n  }\n  render() {\n    return (\n      <div className=\"blog-display\">\n        {this.props.blogs.map((blog) => {\n          return (\n            <div className=\"blog-item noselect\" key={blog.id} onClick={() => this.selectBlog(blog.id)}>\n              <div className=\"blog-title\">{blog.title}</div>\n              <div>{blog.createdAt}</div>\n              <div>{blog.bloguser.username}</div>\n              <div>{blog.content.length > 100 ? blog.content.substring(0,101) + '...' : blog.content}</div>\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      testBlogs: [],\n      selectedBlog: undefined,\n      authenticated: false,\n      createUser: false,\n      badLogin: false,\n      badCreate: false\n    }\n    \n    this.setDisplayedBlog = this.setDisplayedBlog.bind(this)\n    this.flipCreateAccount = this.flipCreateAccount.bind(this)\n    this.setAuthentication = this.setAuthentication.bind(this)\n    this.logoutUser = this.logoutUser.bind(this)\n    this.getPosts = this.getPosts.bind(this)\n    this.displayCreateBlog = this.displayCreateBlog.bind(this)\n    this.editBlog = this.editBlog.bind(this)\n    this.deleteBlog = this.deleteBlog.bind(this)\n    this.createBlog = this.createBlog.bind(this)\n    this.createAccount = this.createAccount.bind(this)\n  }\n  async setAuthentication(username, password) {\n    let response = await fetch('/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({username, password})\n    })\n    if (response.status === 200) {\n      this.setState({\n        badLogin: false\n      })\n      response = await response.json()\n      this.setState({authenticated: {\n        username: response.user,\n        id: response.id\n      }})\n      this.getPosts(response.id)\n    }\n    else {\n      this.setState({\n        badLogin: true\n      })\n    }\n    \n  }\n  componentDidMount() {\n    document.title = 'VZ Blog'\n    this.checkAuthentication()\n    this.getPosts(this.state.authenticated.id)\n  }\n  async getPosts(userid) {\n    let link = '/posts'\n    if (userid !== undefined) link += '/' + userid\n    let response = await fetch(link)\n    response = await response.json()\n    this.setState({\n      testBlogs: response.outBlogs\n    })\n  }\n  async checkAuthentication() {\n    let response = await fetch('/login/auth')\n    let status = response.status\n    response = await response.json()\n    if (status === 200) {\n      this.setState({\n        authenticated: {\n          username: response.user,\n          id: response.id\n        }\n      })\n    }\n    \n  }\n  setDisplayedBlog(blog) {\n    this.setState({selectedBlog: blog})\n  }\n  async logoutUser() {\n    let response = await fetch('/logout')\n    if (response.status === 200) {\n      this.setState({\n        authenticated: false,\n        selectedBlog: undefined\n      })\n      this.getPosts()\n    }\n  }\n  flipCreateAccount() {\n    let old = !this.state.createUser;\n    this.setState({createUser: old})\n  }\n  async createAccount(firstName, lastName, username, password) {\n    let response = await fetch('/create', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({firstName, lastName, username, password})\n    })\n    if (response.status === 201) {\n      this.setState({\n        badCreate: false\n      })\n    }\n    else {\n      this.setState({\n        badCreate: true\n      })\n      return\n    }\n    this.setState({\n      createUser: false\n    })\n  }\n  async createBlog(newBlog) {\n    let response = await fetch('/blog', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n       },\n      body: JSON.stringify(newBlog)\n    })\n    response = await response.json()\n    this.setState({\n      testBlogs: response,\n      selectedBlog: undefined\n    })\n  }\n  async editBlog(newBlog) {\n    let response = await fetch('/post/' + newBlog.id, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(newBlog)\n    })\n    response = await response.json()\n    this.setState({\n      testBlogs: response\n    })\n  }\n  async deleteBlog(id) {\n    let response = await fetch('/post/' + id, {\n      method: 'DELETE'\n    })\n    response = await response.json()\n    this.setState({\n      testBlogs: response,\n      selectedBlog: undefined\n    })\n\n  }\n  displayCreateBlog() {\n    this.setState({\n      selectedBlog: 'create'\n    })\n  }\n  render() {\n    return (\n      <div>\n        <Header bad={this.state.badLogin} create={this.displayCreateBlog} logout={this.logoutUser} getPosts={this.getPosts} setauth={this.setAuthentication} click={this.flipCreateAccount} auth={this.state.authenticated}/>\n        {this.state.selectedBlog !== undefined && !this.state.createUser ? <BlogPost auth={this.state.authenticated} blog={this.state.testBlogs.find(blog => blog.id ===this.state.selectedBlog)} click={this.setDisplayedBlog} blogFunction={{edit: this.editBlog, delete: this.deleteBlog, create: this.createBlog}}/> : ''}\n        {this.state.selectedBlog === undefined && !this.state.createUser ? <BlogDisplay blogs={this.state.testBlogs} click={this.setDisplayedBlog}/>: ''}\n        {this.state.createUser ? <CreateUser bad={this.state.badCreate} create={this.createAccount}/> : ''}\n      </div>\n    )\n  }\n}\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}