{"version":3,"sources":["index.js"],"names":["Login","props","loginFuncton","bind","action","username","target","previousSibling","value","password","this","auth","className","bad","placeholder","type","onClick","click","React","Component","UserDisplay","getPosts","user","id","create","logout","CreateUser","createUser","state","badPassword","button","a","firstName","lastName","password_check","setState","style","display","justifyContent","width","flexDirection","marginTop","Header","setauth","BlogPost","edit","undefined","blog","editContent","deleteContent","createContent","newBlog","content","parentNode","innerText","title","blogFunction","delete","contentStyle","backgroundColor","border","borderRadius","date","Date","createdAt","toString","split","contentEditable","bloguser","bloguserId","BlogDisplay","blogs","map","selectBlog","length","substring","App","testBlogs","selectedBlog","authenticated","badLogin","badCreate","setDisplayedBlog","flipCreateAccount","setAuthentication","logoutUser","displayCreateBlog","editBlog","deleteBlog","createBlog","createAccount","fetch","method","headers","body","JSON","stringify","response","status","json","document","checkAuthentication","userid","link","outBlogs","old","find","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.04d1b83f.chunk.js","sourcesContent":["\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props)\n    this.loginFuncton = this.loginFuncton.bind(this)\n  }\n  loginFuncton(action) {\n    let username = action.target.previousSibling.previousSibling.value\n    let password = action.target.previousSibling.value\n    this.props.auth(username, password)\n  }\n  render () {\n    return (\n      <>\n        <div>\n          <div className={`input-form ${this.props.bad ? 'warning-login' : ''}`}>\n            <input placeholder=\"Username\"/>\n            <input placeholder=\"Password\" type=\"password\"/>\n            <button onClick={this.loginFuncton}>Login</button>\n            <button onClick={() => this.props.click()}>Create Account</button>\n          </div>\n        </div>\n      </>\n    )\n  }\n}\n\nclass UserDisplay extends React.Component {\n  render() {\n    return (\n      <div>\n        <div className=\"input-form\">\n          <button onClick={() => this.props.getPosts()}>All Posts</button>\n          <button onClick={() => this.props.getPosts(this.props.user.id)}>Your Posts</button>\n          <button onClick={() => this.props.create()}>Create Post</button>\n          <div>Welcome {this.props.user.username}!</div>\n          <button onClick={this.props.logout}>Logout</button>\n        </div>\n\n      </div>\n    )\n  }\n}\n\nclass CreateUser extends React.Component {\n  constructor(props) {\n    super(props)\n    this.createUser = this.createUser.bind(this)\n    this.state = {\n      badPassword: false\n    }\n  }\n  async createUser(button) {\n    button = button.target\n    let firstName = button.previousSibling.previousSibling.previousSibling.previousSibling.previousSibling.value\n    let lastName = button.previousSibling.previousSibling.previousSibling.previousSibling.value\n    let username = button.previousSibling.previousSibling.previousSibling.value\n    let password = button.previousSibling.previousSibling.value\n    let password_check = button.previousSibling.value\n    if (password !== password_check) {\n      this.setState({\n        badPassword: true\n      })\n      return\n    }\n    else {\n      this.setState({\n        badPassword: false\n      })\n    }\n    this.props.create(firstName, lastName, username, password)\n\n  }\n  render() {\n    let outerStyle = {\n      display: 'flex',\n      justifyContent: 'space-around',\n      width: '100%'\n    }\n\n    let innerStyle = {\n      display: 'flex',\n      justifyContent: 'space-around',\n      width: '200px',\n      flexDirection: 'column',\n      marginTop: '60px'\n    }\n    return (\n      <div style={outerStyle}>\n        <div className={(this.state.badPassword ? 'warning-password' :'')+ ' ' + (this.props.bad ? 'warning-create' :'')} style={innerStyle}>\n          <input placeholder=\"first name\"/>\n          <input placeholder=\"last name\"/>\n          <input placeholder=\"username\"/>\n          <input placeholder=\"password\" type=\"password\"/>\n          <input placeholder=\"confirm password\" type=\"password\"/>\n          <button onClick={this.createUser}>Create Account</button>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass Header extends React.Component {\n  render() {\n    return (\n      <>\n        <div className=\"header\">\n          <div className=\"brand-name\">\n            Tiger Blog\n          </div>\n          {this.props.auth ? <UserDisplay create={this.props.create} getPosts={this.props.getPosts} logout={this.props.logout} user={this.props.auth}></UserDisplay> : <Login bad={this.props.bad} auth={this.props.setauth} click={this.props.click}/>}\n        </div>\n      </>\n    )\n  }\n}\n\nclass BlogPost extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      edit: props.blog === undefined ? true : false\n    }\n    this.editContent = this.editContent.bind(this)\n    this.deleteContent = this.deleteContent.bind(this)\n    this.createContent = this.createContent.bind(this)\n  }\n  createContent(button) {\n    let newBlog = {\n      content: button.target.parentNode.previousSibling.innerText,\n      title: button.target.parentNode.previousSibling.previousSibling.previousSibling.previousSibling.innerText\n    }\n    this.props.blogFunction.create(newBlog)\n  }\n  editContent(button) {\n    if (!this.state.edit) {\n      this.setState({\n        edit: true\n      })\n      return\n    }\n    else {\n      this.setState({\n        edit: false\n      })\n\n    }\n    let newBlog = {\n      id: this.props.blog.id,\n      content: button.target.parentNode.previousSibling.innerText,\n      title: button.target.parentNode.previousSibling.previousSibling.previousSibling.previousSibling.innerText\n    }\n    this.props.blogFunction.edit(newBlog)\n  }\n  deleteContent() {\n    this.props.blogFunction.delete(this.props.blog.id)\n  }\n  render() {\n    let contentStyle = {\n      backgroundColor: '#CCC',\n      border: '1px solid black',\n      borderRadius: '10px'\n    }\n    contentStyle = this.props.blog === undefined  || this.state.edit ? contentStyle : {}\n    let date = this.props.blog === undefined ? '' : (new Date(this.props.blog.createdAt)).toString().split('GMT')[0]\n    return (\n      <div className=\"blog-post\">\n        {this.props.blog === undefined ? <div>Title:</div> : ''}\n        <div style={contentStyle} contentEditable={this.props.blog === undefined ? true : this.state.edit} className=\"blog-title\">{this.props.blog === undefined ? '' :  this.props.blog.title}</div>\n        <div>{this.props.blog === undefined ? 'Content:' : 'Created By: ' + this.props.blog.bloguser.username}</div>\n        <div>{this.props.blog === undefined ? '' : date}</div>\n        <div style={contentStyle} contentEditable={this.props.blog === undefined ? true : this.state.edit}>{this.props.blog === undefined ? '' : this.props.blog.content}</div>\n        <div className=\"blog-post-buttons\">\n            <button onClick={() => this.props.click(undefined)}>Back to Posts</button>\n            {this.props.blog === undefined ? <button onClick={this.createContent}>Create</button> : this.props.auth.id === this.props.blog.bloguserId ? <button onClick={this.editContent}>{this.state.edit ? 'Save Changes' : 'Edit Post'}</button> : ''}\n            {this.props.blog === undefined ? '' : this.props.auth.id === this.props.blog.bloguserId ? <button onClick={this.deleteContent}>Delete Post</button> : ''}\n        </div>\n      </div>\n    )\n  }\n}\n\nclass BlogDisplay extends React.Component {\n  selectBlog(blog) {\n    this.props.click(blog)\n  }\n  render() {\n    return (\n      <div className=\"blog-display\">\n        {this.props.blogs.map((blog) => {\n          return (\n            <div className=\"blog-item noselect\" key={blog.id} onClick={() => this.selectBlog(blog.id)}>\n              <div className=\"blog-title\">{blog.title}</div>\n              <div>{(new Date(blog.createdAt)).toString().split('GMT')[0]}</div>\n              <div>{'Author: ' + blog.bloguser.username}</div>\n              <div>{blog.content.length > 100 ? blog.content.substring(0,101) + '...' : blog.content}</div>\n            </div>\n          )\n        })}\n        {this.props.blogs.length === 0 ? <div>No User Blogs Present, Click Create Post to Start!</div> : ''}\n      </div>\n    )\n  }\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      testBlogs: [],\n      selectedBlog: undefined,\n      authenticated: false,\n      createUser: false,\n      badLogin: false,\n      badCreate: false\n    }\n    \n    this.setDisplayedBlog = this.setDisplayedBlog.bind(this)\n    this.flipCreateAccount = this.flipCreateAccount.bind(this)\n    this.setAuthentication = this.setAuthentication.bind(this)\n    this.logoutUser = this.logoutUser.bind(this)\n    this.getPosts = this.getPosts.bind(this)\n    this.displayCreateBlog = this.displayCreateBlog.bind(this)\n    this.editBlog = this.editBlog.bind(this)\n    this.deleteBlog = this.deleteBlog.bind(this)\n    this.createBlog = this.createBlog.bind(this)\n    this.createAccount = this.createAccount.bind(this)\n  }\n  async setAuthentication(username, password) {\n    let response = await fetch('/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({username, password})\n    })\n    if (response.status === 200) {\n      this.setState({\n        badLogin: false\n      })\n      response = await response.json()\n      this.setState({authenticated: {\n        username: response.user,\n        id: response.id\n      }})\n      this.getPosts(response.id)\n    }\n    else {\n      this.setState({\n        badLogin: true\n      })\n    }\n    \n  }\n  componentDidMount() {\n    document.title = 'VZ Blog'\n    this.checkAuthentication()\n    this.getPosts(this.state.authenticated.id)\n  }\n  async getPosts(userid) {\n    let link = '/posts'\n    if (userid !== undefined) link += '/' + userid\n    let response = await fetch(link)\n    response = await response.json()\n    this.setState({\n      testBlogs: response.outBlogs\n    })\n  }\n  async checkAuthentication() {\n    let response = await fetch('/login/auth')\n    let status = response.status\n    if (status === 200) {\n      response = await response.json()\n      this.setState({\n        authenticated: {\n          username: response.user,\n          id: response.id\n        }\n      })\n    }\n    \n  }\n  setDisplayedBlog(blog) {\n    this.setState({selectedBlog: blog})\n  }\n  async logoutUser() {\n    let response = await fetch('/logout')\n    if (response.status === 200) {\n      this.setState({\n        authenticated: false,\n        selectedBlog: undefined\n      })\n      this.getPosts()\n    }\n  }\n  flipCreateAccount() {\n    let old = !this.state.createUser;\n    this.setState({createUser: old})\n  }\n  async createAccount(firstName, lastName, username, password) {\n    let response = await fetch('/create', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({firstName, lastName, username, password})\n    })\n    if (response.status === 201) {\n      response = await response.json()\n      this.setState({\n        badCreate: false,\n        authenticated: {\n          username: response.user,\n          id: response.id\n        }\n      })\n\n    }\n    else {\n      this.setState({\n        badCreate: true\n      })\n      return\n    }\n    this.setState({\n      createUser: false\n    })\n  }\n  async createBlog(newBlog) {\n    let response = await fetch('/blog', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n       },\n      body: JSON.stringify(newBlog)\n    })\n    if (response.status !== 201) {\n      this.setState({\n        authenticated: false\n      })\n      return\n    }\n    response = await response.json()\n    this.setState({\n      testBlogs: response,\n      selectedBlog: undefined\n    })\n  }\n  async editBlog(newBlog) {\n    let response = await fetch('/post/' + newBlog.id, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(newBlog)\n    })\n    if (response.status !== 201) {\n      this.setState({\n        authenticated: false\n      })\n      return\n    }\n    response = await response.json()\n    this.setState({\n      testBlogs: response\n    })\n  }\n  async deleteBlog(id) {\n    let response = await fetch('/post/' + id, {\n      method: 'DELETE'\n    })\n    if (response.status !== 201) {\n      this.setState({\n        authenticated: false\n      })\n      return\n    }\n    response = await response.json()\n    this.setState({\n      testBlogs: response,\n      selectedBlog: undefined\n    })\n\n  }\n  displayCreateBlog() {\n    this.setState({\n      selectedBlog: 'create'\n    })\n  }\n  render() {\n    return (\n      <div>\n        <Header bad={this.state.badLogin} create={this.displayCreateBlog} logout={this.logoutUser} getPosts={this.getPosts} setauth={this.setAuthentication} click={this.flipCreateAccount} auth={this.state.authenticated}/>\n        {this.state.selectedBlog !== undefined && !this.state.createUser ? <BlogPost auth={this.state.authenticated} blog={this.state.testBlogs.find(blog => blog.id ===this.state.selectedBlog)} click={this.setDisplayedBlog} blogFunction={{edit: this.editBlog, delete: this.deleteBlog, create: this.createBlog}}/> : ''}\n        {this.state.selectedBlog === undefined && !this.state.createUser ? <BlogDisplay blogs={this.state.testBlogs} click={this.setDisplayedBlog}/>: ''}\n        {this.state.createUser ? <CreateUser bad={this.state.badCreate} create={this.createAccount}/> : ''}\n      </div>\n    )\n  }\n}\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}