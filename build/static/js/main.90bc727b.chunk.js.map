{"version":3,"sources":["index.js"],"names":["Login","props","loginFuncton","bind","action","username","target","previousSibling","value","password","this","auth","className","placeholder","type","onClick","click","React","Component","UserDisplay","getPosts","user","create","logout","CreateUser","createUser","button","a","password_check","style","display","justifyContent","width","flexDirection","marginTop","Header","setauth","BlogPost","state","edit","undefined","blog","editContent","deleteContent","createContent","newBlog","content","parentNode","innerText","subject","blogFunction","setState","id","dateCreated","delete","contentStyle","backgroundColor","border","borderRadius","contentEditable","createdAt","BlogDisplay","blogs","map","selectBlog","length","substring","App","testBlogs","selectedBlog","authenticated","setDisplayedBlog","flipCreateAccount","setAuthentication","logoutUser","displayCreateBlog","editBlog","deleteBlog","createBlog","createAccount","fetch","method","headers","body","JSON","stringify","response","status","json","window","localStorage","setItem","document","title","checkAuthentication","link","outBlogs","getItem","removeItem","console","log","old","find","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.90bc727b.chunk.js","sourcesContent":["\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props)\n    this.loginFuncton = this.loginFuncton.bind(this)\n  }\n  loginFuncton(action) {\n    let username = action.target.previousSibling.previousSibling.value\n    let password = action.target.previousSibling.value\n    this.props.auth(username, password)\n  }\n  render () {\n    return (\n      <>\n        <div>\n          <div className=\"input-form\">\n            <input placeholder=\"Username\"/>\n            <input placeholder=\"Password\" type=\"password\"/>\n            <button onClick={this.loginFuncton}>Login</button>\n            <button onClick={() => this.props.click()}>Create Account</button>\n          </div>\n        </div>\n      </>\n    )\n  }\n}\n\nclass UserDisplay extends React.Component {\n  render() {\n    return (\n      <div>\n        <div className=\"input-form\">\n          <button onClick={() => this.props.getPosts()}>All Posts</button>\n          <button onClick={() => this.props.getPosts(this.props.user)}>Your Posts</button>\n          <button onClick={() => this.props.create()}>Create Post</button>\n          <div>Welcome {this.props.user}!</div>\n          <button onClick={this.props.logout}>Logout</button>\n        </div>\n\n      </div>\n    )\n  }\n}\n\nclass CreateUser extends React.Component {\n  constructor(props) {\n    super(props)\n    this.createUser = this.createUser.bind(this)\n  }\n  async createUser(button) {\n    button = button.target\n    let username = button.previousSibling.previousSibling.previousSibling.value\n    let password = button.previousSibling.previousSibling.value\n    let password_check = button.previousSibling.value\n    if (password !== password_check) return\n    this.props.create(username, password)\n\n  }\n  render() {\n    let outerStyle = {\n      display: 'flex',\n      justifyContent: 'space-around',\n      width: '100%'\n    }\n\n    let innerStyle = {\n      display: 'flex',\n      justifyContent: 'space-around',\n      width: '200px',\n      flexDirection: 'column',\n      marginTop: '60px'\n    }\n    return (\n      <div style={outerStyle}>\n        <div style={innerStyle}>\n          <input placeholder=\"username\"/>\n          <input placeholder=\"password\" type=\"password\"/>\n          <input placeholder=\"confirm password\" type=\"password\"/>\n          <button onClick={this.createUser}>Create Account</button>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass Header extends React.Component {\n  render() {\n    return (\n      <>\n        <div className=\"header\">\n          <div className=\"brand-name\">\n            Tiger Blog\n          </div>\n          {this.props.auth ? <UserDisplay create={this.props.create} getPosts={this.props.getPosts} logout={this.props.logout} user={this.props.auth}></UserDisplay> : <Login auth={this.props.setauth} click={this.props.click}/>}\n        </div>\n      </>\n    )\n  }\n}\n\nclass BlogPost extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      edit: props.blog === undefined ? true : false\n    }\n    this.editContent = this.editContent.bind(this)\n    this.deleteContent = this.deleteContent.bind(this)\n    this.createContent = this.createContent.bind(this)\n  }\n  createContent(button) {\n    let newBlog = {\n      content: button.target.parentNode.previousSibling.innerText,\n      subject: button.target.parentNode.previousSibling.previousSibling.previousSibling.previousSibling.innerText\n    }\n    this.props.blogFunction.create(newBlog)\n  }\n  editContent(button) {\n    if (!this.state.edit) {\n      this.setState({\n        edit: true\n      })\n      return\n    }\n    else {\n      this.setState({\n        edit: false\n      })\n\n    }\n    let newBlog = {\n      id: this.props.blog.id,\n      content: button.target.parentNode.previousSibling.innerText,\n      dateCreated: this.props.blog.dateCreated,\n      user: this.props.blog.user,\n      subject: button.target.parentNode.previousSibling.previousSibling.previousSibling.previousSibling.innerText\n    }\n    this.props.blogFunction.edit(newBlog)\n  }\n  deleteContent() {\n    this.props.blogFunction.delete(this.props.blog.id)\n  }\n  render() {\n    let contentStyle = {\n      backgroundColor: '#CCC',\n      border: '1px solid black',\n      borderRadius: '10px'\n    }\n    contentStyle = this.props.blog === undefined  || this.state.edit ? contentStyle : {}\n    return (\n      <div className=\"blog-post\">\n        <div style={contentStyle} contentEditable={this.props.blog === undefined ? true : this.state.edit} className=\"blog-title\">{this.props.blog === undefined ? '' :  this.props.blog.subject}</div>\n        <div>Created By: {this.props.blog === undefined ? '' : this.props.blog.user}</div>\n        <div>{this.props.blog === undefined ? '' : this.props.blog.createdAt}</div>\n        <div style={contentStyle} contentEditable={this.props.blog === undefined ? true : this.state.edit}>{this.props.blog === undefined ? '' : this.props.blog.content}</div>\n        <div className=\"blog-post-buttons\">\n            <button onClick={() => this.props.click(undefined)}>Back to Posts</button>\n            {this.props.blog === undefined ? <button onClick={this.createContent}>Create</button> : this.props.auth === this.props.blog.user ? <button onClick={this.editContent}>{this.state.edit ? 'Save Changes' : 'Edit Post'}</button> : ''}\n            {this.props.blog === undefined ? '' : this.props.auth === this.props.blog.user ? <button onClick={this.deleteContent}>Delete Post</button> : ''}\n        </div>\n      </div>\n    )\n  }\n}\n\nclass BlogDisplay extends React.Component {\n  selectBlog(blog) {\n    this.props.click(blog)\n  }\n  render() {\n    return (\n      <div className=\"blog-display\">\n        {this.props.blogs.map((blog) => {\n          return (\n            <div className=\"blog-item noselect\" key={blog.id} onClick={() => this.selectBlog(blog.id)}>\n              <div className=\"blog-title\">{blog.subject}</div>\n              <div>{blog.createdAt}</div>\n              <div>{blog.user}</div>\n              <div>{blog.content.length > 100 ? blog.content.substring(0,101) + '...' : blog.content}</div>\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      testBlogs: [],\n      selectedBlog: undefined,\n      authenticated: false,\n      createUser: false\n    }\n    \n    this.setDisplayedBlog = this.setDisplayedBlog.bind(this)\n    this.flipCreateAccount = this.flipCreateAccount.bind(this)\n    this.setAuthentication = this.setAuthentication.bind(this)\n    this.logoutUser = this.logoutUser.bind(this)\n    this.getPosts = this.getPosts.bind(this)\n    this.displayCreateBlog = this.displayCreateBlog.bind(this)\n    this.editBlog = this.editBlog.bind(this)\n    this.deleteBlog = this.deleteBlog.bind(this)\n    this.createBlog = this.createBlog.bind(this)\n    this.createAccount = this.createAccount.bind(this)\n  }\n  async setAuthentication(username, password) {\n    let response = await fetch('/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({username, password})\n    })\n    if (response.status === 201) {\n      this.setState({authenticated: username})\n      response = await response.json()\n      window.localStorage.setItem('jwt', response)\n      this.getPosts(username)\n    }\n    \n  }\n  componentDidMount() {\n    document.title = 'VZ Blog'\n    this.checkAuthentication()\n    this.getPosts()\n  }\n  async getPosts(user) {\n    let link = '/posts'\n    if (user !== undefined) link += '/' + user\n    // console.log(link);\n    let response = await fetch(link)\n    response = await response.json()\n    // console.log(response);\n    this.setState({\n      testBlogs: response.outBlogs\n    })\n  }\n  async checkAuthentication() {\n    if (!window.localStorage.getItem('jwt')) return\n    let response = await fetch('/login/auth', {\n      headers: {\n        'authorization': 'Bearer ' + window.localStorage.getItem('jwt')\n      }\n    })\n    let status = response.status\n    response = await response.json()\n    if (status === 201) {\n      this.setState({\n        authenticated: response.user\n      })\n    }\n    else {\n      window.localStorage.removeItem('jwt')\n    }\n    \n  }\n  setDisplayedBlog(blog) {\n    this.setState({selectedBlog: blog})\n  }\n  logoutUser() {\n    window.localStorage.removeItem('jwt')\n    this.setState({\n      authenticated: false,\n      selectedBlog: undefined\n    })\n    this.getPosts()\n  }\n  flipCreateAccount() {\n    console.log(1);\n    let old = !this.state.createUser;\n    this.setState({createUser: old})\n  }\n  async createAccount(username, password) {\n    let response = await fetch('/create', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({username, password})\n    })\n    if (response.status === 201) {\n      console.log('success');\n    }\n    else {\n      console.log('failure');\n      return\n    }\n    this.setState({\n      createUser: false\n    })\n  }\n  async createBlog(newBlog) {\n    let response = await fetch('/blog', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'authorization': 'Bearer ' + window.localStorage.getItem('jwt')\n      },\n      body: JSON.stringify(newBlog)\n    })\n    response = await response.json()\n    this.setState({\n      testBlogs: response,\n      selectedBlog: undefined\n    })\n  }\n  async editBlog(newBlog) {\n    let response = await fetch('/post/' + newBlog.id, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        'authorization': 'Bearer ' + window.localStorage.getItem('jwt')\n      },\n      body: JSON.stringify(newBlog)\n    })\n    response = await response.json()\n    this.setState({\n      testBlogs: response\n    })\n  }\n  async deleteBlog(id) {\n    let response = await fetch('/post/' + id, {\n      method: 'DELETE',\n      headers: {\n        'authorization': 'Bearer ' + window.localStorage.getItem('jwt')\n      },\n    })\n    response = await response.json()\n    console.log(response);\n    this.setState({\n      testBlogs: response,\n      selectedBlog: undefined\n    })\n\n  }\n  displayCreateBlog() {\n    this.setState({\n      selectedBlog: 'create'\n    })\n  }\n  render() {\n    return (\n      <div>\n        <Header create={this.displayCreateBlog} logout={this.logoutUser} getPosts={this.getPosts} setauth={this.setAuthentication} click={this.flipCreateAccount} auth={this.state.authenticated}/>\n        {this.state.selectedBlog !== undefined && !this.state.createUser ? <BlogPost auth={this.state.authenticated} blog={this.state.testBlogs.find(blog => blog.id ===this.state.selectedBlog)} click={this.setDisplayedBlog} blogFunction={{edit: this.editBlog, delete: this.deleteBlog, create: this.createBlog}}/> : ''}\n        {this.state.selectedBlog === undefined && !this.state.createUser ? <BlogDisplay blogs={this.state.testBlogs} click={this.setDisplayedBlog}/>: ''}\n        {this.state.createUser ? <CreateUser create={this.createAccount}/> : ''}\n      </div>\n    )\n  }\n}\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}