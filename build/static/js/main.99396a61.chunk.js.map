{"version":3,"sources":["index.js"],"names":["Login","props","loginFuncton","bind","action","username","target","previousSibling","value","password","this","auth","className","bad","placeholder","type","onClick","click","React","Component","UserDisplay","getPosts","user","id","create","logout","CreateUser","createUser","state","badPassword","button","a","firstName","lastName","password_check","setState","style","display","justifyContent","width","flexDirection","marginTop","Header","href","setauth","BlogPost","edit","undefined","blog","editContent","deleteContent","createContent","newBlog","content","parentNode","innerText","title","blogFunction","delete","contentStyle","backgroundColor","border","borderRadius","date","Date","createdAt","toString","split","contentEditable","bloguser","bloguserId","BlogDisplay","blogs","map","selectBlog","length","substring","App","testBlogs","selectedBlog","authenticated","badLogin","badCreate","setDisplayedBlog","flipCreateAccount","setAuthentication","logoutUser","displayCreateBlog","editBlog","deleteBlog","createBlog","createAccount","fetch","method","headers","body","JSON","stringify","response","status","json","document","checkAuthentication","userid","link","outBlogs","old","find","ReactDOM","render","getElementById"],"mappings":"wNAKMA,E,kDACJ,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDC,aAAe,EAAKA,aAAaC,KAAlB,gBAFH,E,gDAInB,SAAaC,GACX,IAAIC,EAAWD,EAAOE,OAAOC,gBAAgBA,gBAAgBC,MACzDC,EAAWL,EAAOE,OAAOC,gBAAgBC,MAC7CE,KAAKT,MAAMU,KAAKN,EAAUI,K,oBAE5B,WAAW,IAAD,OACR,OACE,mCACE,8BACE,sBAAKG,UAAS,qBAAgBF,KAAKT,MAAMY,IAAM,gBAAkB,IAAjE,UACE,uBAAOC,YAAY,aACnB,uBAAOA,YAAY,WAAWC,KAAK,aACnC,wBAAQC,QAASN,KAAKR,aAAtB,mBACA,wBAAQc,QAAS,kBAAM,EAAKf,MAAMgB,SAAlC,uC,GAlBQC,IAAMC,WA0BpBC,E,4JACJ,WAAU,IAAD,OACP,OACE,8BACE,sBAAKR,UAAU,aAAf,UACE,wBAAQI,QAAS,kBAAM,EAAKf,MAAMoB,YAAlC,uBACA,wBAAQL,QAAS,kBAAM,EAAKf,MAAMoB,SAAS,EAAKpB,MAAMqB,KAAKC,KAA3D,wBACA,wBAAQP,QAAS,kBAAM,EAAKf,MAAMuB,UAAlC,yBACA,2CAAcd,KAAKT,MAAMqB,KAAKjB,SAA9B,OACA,wBAAQW,QAASN,KAAKT,MAAMwB,OAA5B,6B,GATgBP,IAAMC,WAiB1BO,E,kDACJ,WAAYzB,GAAQ,IAAD,8BACjB,cAAMA,IACD0B,WAAa,EAAKA,WAAWxB,KAAhB,gBAClB,EAAKyB,MAAQ,CACXC,aAAa,GAJE,E,qFAOnB,WAAiBC,GAAjB,uBAAAC,EAAA,yDACED,EAASA,EAAOxB,OACZ0B,EAAYF,EAAOvB,gBAAgBA,gBAAgBA,gBAAgBA,gBAAgBA,gBAAgBC,MACnGyB,EAAWH,EAAOvB,gBAAgBA,gBAAgBA,gBAAgBA,gBAAgBC,MAClFH,EAAWyB,EAAOvB,gBAAgBA,gBAAgBA,gBAAgBC,MAClEC,EAAWqB,EAAOvB,gBAAgBA,gBAAgBC,MAClD0B,EAAiBJ,EAAOvB,gBAAgBC,MACxCC,IAAayB,EAPnB,wBAQIxB,KAAKyB,SAAS,CACZN,aAAa,IATnB,2BAcInB,KAAKyB,SAAS,CACZN,aAAa,IAfnB,QAkBEnB,KAAKT,MAAMuB,OAAOQ,EAAWC,EAAU5B,EAAUI,GAlBnD,iD,2EAqBA,WAcE,OACE,qBAAK2B,MAdU,CACfC,QAAS,OACTC,eAAgB,eAChBC,MAAO,QAWP,SACE,sBAAK3B,WAAYF,KAAKkB,MAAMC,YAAc,mBAAoB,IAAK,KAAOnB,KAAKT,MAAMY,IAAM,iBAAkB,IAAKuB,MATrG,CACfC,QAAS,OACTC,eAAgB,eAChBC,MAAO,QACPC,cAAe,SACfC,UAAW,QAIT,UACE,uBAAO3B,YAAY,eACnB,uBAAOA,YAAY,cACnB,uBAAOA,YAAY,aACnB,uBAAOA,YAAY,WAAWC,KAAK,aACnC,uBAAOD,YAAY,mBAAmBC,KAAK,aAC3C,wBAAQC,QAASN,KAAKiB,WAAtB,qC,GAnDeT,IAAMC,WA0DzBuB,E,4JACJ,WACE,OACE,mCACE,sBAAK9B,UAAU,SAAf,UACE,mBAAG+B,KAAK,IAAI/B,UAAU,aAAtB,qBAGCF,KAAKT,MAAMU,KAAO,cAACS,EAAD,CAAaI,OAAQd,KAAKT,MAAMuB,OAAQH,SAAUX,KAAKT,MAAMoB,SAAUI,OAAQf,KAAKT,MAAMwB,OAAQH,KAAMZ,KAAKT,MAAMU,OAAuB,cAACX,EAAD,CAAOa,IAAKH,KAAKT,MAAMY,IAAKF,KAAMD,KAAKT,MAAM2C,QAAS3B,MAAOP,KAAKT,MAAMgB,iB,GAR1NC,IAAMC,WAerB0B,E,kDACJ,WAAY5C,GAAQ,IAAD,8BACjB,cAAMA,IACD2B,MAAQ,CACXkB,UAAqBC,IAAf9C,EAAM+C,MAEd,EAAKC,YAAc,EAAKA,YAAY9C,KAAjB,gBACnB,EAAK+C,cAAgB,EAAKA,cAAc/C,KAAnB,gBACrB,EAAKgD,cAAgB,EAAKA,cAAchD,KAAnB,gBAPJ,E,iDASnB,SAAc2B,GACZ,IAAIsB,EAAU,CACZC,QAASvB,EAAOxB,OAAOgD,WAAW/C,gBAAgBgD,UAClDC,MAAO1B,EAAOxB,OAAOgD,WAAW/C,gBAAgBA,gBAAgBA,gBAAgBA,gBAAgBgD,WAElG7C,KAAKT,MAAMwD,aAAajC,OAAO4B,K,yBAEjC,SAAYtB,GACV,GAAKpB,KAAKkB,MAAMkB,KAAhB,CAOEpC,KAAKyB,SAAS,CACZW,MAAM,IAIV,IAAIM,EAAU,CACZ7B,GAAIb,KAAKT,MAAM+C,KAAKzB,GACpB8B,QAASvB,EAAOxB,OAAOgD,WAAW/C,gBAAgBgD,UAClDC,MAAO1B,EAAOxB,OAAOgD,WAAW/C,gBAAgBA,gBAAgBA,gBAAgBA,gBAAgBgD,WAElG7C,KAAKT,MAAMwD,aAAaX,KAAKM,QAhB3B1C,KAAKyB,SAAS,CACZW,MAAM,M,2BAiBZ,WACEpC,KAAKT,MAAMwD,aAAaC,OAAOhD,KAAKT,MAAM+C,KAAKzB,M,oBAEjD,WAAU,IAAD,OACHoC,EAAe,CACjBC,gBAAiB,OACjBC,OAAQ,kBACRC,aAAc,QAEhBH,OAAmCZ,IAApBrC,KAAKT,MAAM+C,MAAuBtC,KAAKkB,MAAMkB,KAAOa,EAAe,GAClF,IAAII,OAA2BhB,IAApBrC,KAAKT,MAAM+C,KAAqB,GAAM,IAAIgB,KAAKtD,KAAKT,MAAM+C,KAAKiB,WAAYC,WAAWC,MAAM,OAAO,GAC9G,OACE,sBAAKvD,UAAU,YAAf,eACuBmC,IAApBrC,KAAKT,MAAM+C,KAAqB,yCAAoB,GACrD,qBAAKZ,MAAOuB,EAAcS,qBAAqCrB,IAApBrC,KAAKT,MAAM+C,MAA4BtC,KAAKkB,MAAMkB,KAAMlC,UAAU,aAA7G,cAA+ImC,IAApBrC,KAAKT,MAAM+C,KAAqB,GAAMtC,KAAKT,MAAM+C,KAAKQ,QACjL,mCAA0BT,IAApBrC,KAAKT,MAAM+C,KAAqB,WAAa,eAAiBtC,KAAKT,MAAM+C,KAAKqB,SAAShE,WAC7F,mCAA0B0C,IAApBrC,KAAKT,MAAM+C,KAAqB,GAAKe,IAC3C,qBAAK3B,MAAOuB,EAAcS,qBAAqCrB,IAApBrC,KAAKT,MAAM+C,MAA4BtC,KAAKkB,MAAMkB,KAA7F,cAAwHC,IAApBrC,KAAKT,MAAM+C,KAAqB,GAAKtC,KAAKT,MAAM+C,KAAKK,UACzJ,sBAAKzC,UAAU,oBAAf,UACI,wBAAQI,QAAS,kBAAM,EAAKf,MAAMgB,WAAM8B,IAAxC,gCACqBA,IAApBrC,KAAKT,MAAM+C,KAAqB,wBAAQhC,QAASN,KAAKyC,cAAtB,oBAAuDzC,KAAKT,MAAMU,KAAKY,KAAOb,KAAKT,MAAM+C,KAAKsB,WAAa,wBAAQtD,QAASN,KAAKuC,YAAtB,SAAoCvC,KAAKkB,MAAMkB,KAAO,eAAiB,cAAwB,QACtNC,IAApBrC,KAAKT,MAAM+C,KAAqB,GAAKtC,KAAKT,MAAMU,KAAKY,KAAOb,KAAKT,MAAM+C,KAAKsB,WAAa,wBAAQtD,QAASN,KAAKwC,cAAtB,yBAA4D,a,GA1D3IhC,IAAMC,WAiEvBoD,E,gKACJ,SAAWvB,GACTtC,KAAKT,MAAMgB,MAAM+B,K,oBAEnB,WAAU,IAAD,OACP,OACE,sBAAKpC,UAAU,eAAf,UACGF,KAAKT,MAAMuE,MAAMC,KAAI,SAACzB,GACrB,OACE,sBAAKpC,UAAU,qBAAmCI,QAAS,kBAAM,EAAK0D,WAAW1B,EAAKzB,KAAtF,UACE,qBAAKX,UAAU,aAAf,SAA6BoC,EAAKQ,QAClC,8BAAO,IAAIQ,KAAKhB,EAAKiB,WAAYC,WAAWC,MAAM,OAAO,KACzD,8BAAM,WAAanB,EAAKqB,SAAShE,WACjC,8BAAM2C,EAAKK,QAAQsB,OAAS,IAAM3B,EAAKK,QAAQuB,UAAU,EAAE,KAAO,MAAQ5B,EAAKK,YAJxCL,EAAKzB,OAQrB,IAA5Bb,KAAKT,MAAMuE,MAAMG,OAAe,qFAAgE,U,GAjB/EzD,IAAMC,WAuB1B0D,E,kDACJ,WAAY5E,GAAQ,IAAD,8BACjB,cAAMA,IACD2B,MAAQ,CACXkD,UAAW,GACXC,kBAAchC,EACdiC,eAAe,EACfrD,YAAY,EACZsD,UAAU,EACVC,WAAW,GAGb,EAAKC,iBAAmB,EAAKA,iBAAiBhF,KAAtB,gBACxB,EAAKiF,kBAAoB,EAAKA,kBAAkBjF,KAAvB,gBACzB,EAAKkF,kBAAoB,EAAKA,kBAAkBlF,KAAvB,gBACzB,EAAKmF,WAAa,EAAKA,WAAWnF,KAAhB,gBAClB,EAAKkB,SAAW,EAAKA,SAASlB,KAAd,gBAChB,EAAKoF,kBAAoB,EAAKA,kBAAkBpF,KAAvB,gBACzB,EAAKqF,SAAW,EAAKA,SAASrF,KAAd,gBAChB,EAAKsF,WAAa,EAAKA,WAAWtF,KAAhB,gBAClB,EAAKuF,WAAa,EAAKA,WAAWvF,KAAhB,gBAClB,EAAKwF,cAAgB,EAAKA,cAAcxF,KAAnB,gBApBJ,E,4FAsBnB,WAAwBE,EAAUI,GAAlC,eAAAsB,EAAA,sEACuB6D,MAAM,SAAU,CACnCC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAC5F,WAAUI,eANpC,UAQ0B,OAPpByF,EADN,QAQeC,OARf,wBASIzF,KAAKyB,SAAS,CACZ8C,UAAU,IAVhB,SAYqBiB,EAASE,OAZ9B,OAYIF,EAZJ,OAaIxF,KAAKyB,SAAS,CAAC6C,cAAe,CAC5B3E,SAAU6F,EAAS5E,KACnBC,GAAI2E,EAAS3E,MAEfb,KAAKW,SAAS6E,EAAS3E,IAjB3B,wBAoBIb,KAAKyB,SAAS,CACZ8C,UAAU,IArBhB,iD,wFA0BA,WACEoB,SAAS7C,MAAQ,UACjB9C,KAAK4F,sBACL5F,KAAKW,SAASX,KAAKkB,MAAMoD,cAAczD,M,6DAEzC,WAAegF,GAAf,iBAAAxE,EAAA,6DACMyE,EAAO,cACIzD,IAAXwD,IAAsBC,GAAQ,IAAMD,GAF1C,SAGuBX,MAAMY,GAH7B,cAGMN,EAHN,gBAImBA,EAASE,OAJ5B,OAIEF,EAJF,OAKExF,KAAKyB,SAAS,CACZ2C,UAAWoB,EAASO,WANxB,gD,+HASA,4BAAA1E,EAAA,sEACuB6D,MAAM,eAD7B,UACMM,EADN,OAGiB,MADFA,EAASC,OAFxB,gCAIqBD,EAASE,OAJ9B,OAIIF,EAJJ,OAKIxF,KAAKyB,SAAS,CACZ6C,cAAe,CACb3E,SAAU6F,EAAS5E,KACnBC,GAAI2E,EAAS3E,MARrB,gD,oFAcA,SAAiByB,GACftC,KAAKyB,SAAS,CAAC4C,aAAc/B,M,+DAE/B,sBAAAjB,EAAA,sEACuB6D,MAAM,WAD7B,OAE0B,MAF1B,OAEeO,SACXzF,KAAKyB,SAAS,CACZ6C,eAAe,EACfD,kBAAchC,IAEhBrC,KAAKW,YAPT,gD,qFAUA,WACE,IAAIqF,GAAOhG,KAAKkB,MAAMD,WACtBjB,KAAKyB,SAAS,CAACR,WAAY+E,M,kEAE7B,WAAoB1E,EAAWC,EAAU5B,EAAUI,GAAnD,eAAAsB,EAAA,sEACuB6D,MAAM,UAAW,CACpCC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAACjE,YAAWC,WAAU5B,WAAUI,eANzD,UAQ0B,OAPpByF,EADN,QAQeC,OARf,iCASqBD,EAASE,OAT9B,OASIF,EATJ,OAUIxF,KAAKyB,SAAS,CACZ+C,WAAW,EACXF,cAAe,CACb3E,SAAU6F,EAAS5E,KACnBC,GAAI2E,EAAS3E,MAdrB,+BAoBIb,KAAKyB,SAAS,CACZ+C,WAAW,IArBjB,2BAyBExE,KAAKyB,SAAS,CACZR,YAAY,IA1BhB,iD,4HA6BA,WAAiByB,GAAjB,eAAArB,EAAA,sEACuB6D,MAAM,QAAS,CAClCC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU7C,KANzB,UAQ0B,OAPpB8C,EADN,QAQeC,OARf,uBASIzF,KAAKyB,SAAS,CACZ6C,eAAe,IAVrB,0CAcmBkB,EAASE,OAd5B,OAcEF,EAdF,OAeExF,KAAKyB,SAAS,CACZ2C,UAAWoB,EACXnB,kBAAchC,IAjBlB,iD,oHAoBA,WAAeK,GAAf,eAAArB,EAAA,sEACuB6D,MAAM,SAAWxC,EAAQ7B,GAAI,CAChDsE,OAAQ,MACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU7C,KANzB,UAQ0B,OAPpB8C,EADN,QAQeC,OARf,uBASIzF,KAAKyB,SAAS,CACZ6C,eAAe,IAVrB,0CAcmBkB,EAASE,OAd5B,OAcEF,EAdF,OAeExF,KAAKyB,SAAS,CACZ2C,UAAWoB,IAhBf,iD,sHAmBA,WAAiB3E,GAAjB,eAAAQ,EAAA,sEACuB6D,MAAM,SAAWrE,EAAI,CACxCsE,OAAQ,WAFZ,UAI0B,OAHpBK,EADN,QAIeC,OAJf,uBAKIzF,KAAKyB,SAAS,CACZ6C,eAAe,IANrB,0CAUmBkB,EAASE,OAV5B,OAUEF,EAVF,OAWExF,KAAKyB,SAAS,CACZ2C,UAAWoB,EACXnB,kBAAchC,IAblB,iD,sFAiBA,WACErC,KAAKyB,SAAS,CACZ4C,aAAc,a,oBAGlB,WAAU,IAAD,OACP,OACE,gCACE,cAACrC,EAAD,CAAQ7B,IAAKH,KAAKkB,MAAMqD,SAAUzD,OAAQd,KAAK6E,kBAAmB9D,OAAQf,KAAK4E,WAAYjE,SAAUX,KAAKW,SAAUuB,QAASlC,KAAK2E,kBAAmBpE,MAAOP,KAAK0E,kBAAmBzE,KAAMD,KAAKkB,MAAMoD,qBACxKjC,IAA5BrC,KAAKkB,MAAMmD,cAA+BrE,KAAKkB,MAAMD,WAA6P,GAAhP,cAACkB,EAAD,CAAUlC,KAAMD,KAAKkB,MAAMoD,cAAehC,KAAMtC,KAAKkB,MAAMkD,UAAU6B,MAAK,SAAA3D,GAAI,OAAIA,EAAKzB,KAAM,EAAKK,MAAMmD,gBAAe9D,MAAOP,KAAKyE,iBAAkB1B,aAAc,CAACX,KAAMpC,KAAK8E,SAAU9B,OAAQhD,KAAK+E,WAAYjE,OAAQd,KAAKgF,mBACrQ3C,IAA5BrC,KAAKkB,MAAMmD,cAA+BrE,KAAKkB,MAAMD,WAAwF,GAA3E,cAAC4C,EAAD,CAAaC,MAAO9D,KAAKkB,MAAMkD,UAAW7D,MAAOP,KAAKyE,mBACxHzE,KAAKkB,MAAMD,WAAa,cAACD,EAAD,CAAYb,IAAKH,KAAKkB,MAAMsD,UAAW1D,OAAQd,KAAKiF,gBAAmB,U,GA9LtFzE,IAAMC,WAoMxByF,IAASC,OACP,cAAChC,EAAD,IACAwB,SAASS,eAAe,U","file":"static/js/main.99396a61.chunk.js","sourcesContent":["\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props)\n    this.loginFuncton = this.loginFuncton.bind(this)\n  }\n  loginFuncton(action) {\n    let username = action.target.previousSibling.previousSibling.value\n    let password = action.target.previousSibling.value\n    this.props.auth(username, password)\n  }\n  render () {\n    return (\n      <>\n        <div>\n          <div className={`input-form ${this.props.bad ? 'warning-login' : ''}`}>\n            <input placeholder=\"Username\"/>\n            <input placeholder=\"Password\" type=\"password\"/>\n            <button onClick={this.loginFuncton}>Login</button>\n            <button onClick={() => this.props.click()}>Create Account</button>\n          </div>\n        </div>\n      </>\n    )\n  }\n}\n\nclass UserDisplay extends React.Component {\n  render() {\n    return (\n      <div>\n        <div className=\"input-form\">\n          <button onClick={() => this.props.getPosts()}>All Posts</button>\n          <button onClick={() => this.props.getPosts(this.props.user.id)}>Your Posts</button>\n          <button onClick={() => this.props.create()}>Create Post</button>\n          <div>Welcome {this.props.user.username}!</div>\n          <button onClick={this.props.logout}>Logout</button>\n        </div>\n\n      </div>\n    )\n  }\n}\n\nclass CreateUser extends React.Component {\n  constructor(props) {\n    super(props)\n    this.createUser = this.createUser.bind(this)\n    this.state = {\n      badPassword: false\n    }\n  }\n  async createUser(button) {\n    button = button.target\n    let firstName = button.previousSibling.previousSibling.previousSibling.previousSibling.previousSibling.value\n    let lastName = button.previousSibling.previousSibling.previousSibling.previousSibling.value\n    let username = button.previousSibling.previousSibling.previousSibling.value\n    let password = button.previousSibling.previousSibling.value\n    let password_check = button.previousSibling.value\n    if (password !== password_check) {\n      this.setState({\n        badPassword: true\n      })\n      return\n    }\n    else {\n      this.setState({\n        badPassword: false\n      })\n    }\n    this.props.create(firstName, lastName, username, password)\n\n  }\n  render() {\n    let outerStyle = {\n      display: 'flex',\n      justifyContent: 'space-around',\n      width: '100%'\n    }\n\n    let innerStyle = {\n      display: 'flex',\n      justifyContent: 'space-around',\n      width: '200px',\n      flexDirection: 'column',\n      marginTop: '60px'\n    }\n    return (\n      <div style={outerStyle}>\n        <div className={(this.state.badPassword ? 'warning-password' :'')+ ' ' + (this.props.bad ? 'warning-create' :'')} style={innerStyle}>\n          <input placeholder=\"first name\"/>\n          <input placeholder=\"last name\"/>\n          <input placeholder=\"username\"/>\n          <input placeholder=\"password\" type=\"password\"/>\n          <input placeholder=\"confirm password\" type=\"password\"/>\n          <button onClick={this.createUser}>Create Account</button>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass Header extends React.Component {\n  render() {\n    return (\n      <>\n        <div className=\"header\">\n          <a href='/' className=\"brand-name\">\n           VZ Blog\n          </a>\n          {this.props.auth ? <UserDisplay create={this.props.create} getPosts={this.props.getPosts} logout={this.props.logout} user={this.props.auth}></UserDisplay> : <Login bad={this.props.bad} auth={this.props.setauth} click={this.props.click}/>}\n        </div>\n      </>\n    )\n  }\n}\n\nclass BlogPost extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      edit: props.blog === undefined ? true : false\n    }\n    this.editContent = this.editContent.bind(this)\n    this.deleteContent = this.deleteContent.bind(this)\n    this.createContent = this.createContent.bind(this)\n  }\n  createContent(button) {\n    let newBlog = {\n      content: button.target.parentNode.previousSibling.innerText,\n      title: button.target.parentNode.previousSibling.previousSibling.previousSibling.previousSibling.innerText\n    }\n    this.props.blogFunction.create(newBlog)\n  }\n  editContent(button) {\n    if (!this.state.edit) {\n      this.setState({\n        edit: true\n      })\n      return\n    }\n    else {\n      this.setState({\n        edit: false\n      })\n\n    }\n    let newBlog = {\n      id: this.props.blog.id,\n      content: button.target.parentNode.previousSibling.innerText,\n      title: button.target.parentNode.previousSibling.previousSibling.previousSibling.previousSibling.innerText\n    }\n    this.props.blogFunction.edit(newBlog)\n  }\n  deleteContent() {\n    this.props.blogFunction.delete(this.props.blog.id)\n  }\n  render() {\n    let contentStyle = {\n      backgroundColor: '#CCC',\n      border: '1px solid black',\n      borderRadius: '10px'\n    }\n    contentStyle = this.props.blog === undefined  || this.state.edit ? contentStyle : {}\n    let date = this.props.blog === undefined ? '' : (new Date(this.props.blog.createdAt)).toString().split('GMT')[0]\n    return (\n      <div className=\"blog-post\">\n        {this.props.blog === undefined ? <div>Title:</div> : ''}\n        <div style={contentStyle} contentEditable={this.props.blog === undefined ? true : this.state.edit} className=\"blog-title\">{this.props.blog === undefined ? '' :  this.props.blog.title}</div>\n        <div>{this.props.blog === undefined ? 'Content:' : 'Created By: ' + this.props.blog.bloguser.username}</div>\n        <div>{this.props.blog === undefined ? '' : date}</div>\n        <div style={contentStyle} contentEditable={this.props.blog === undefined ? true : this.state.edit}>{this.props.blog === undefined ? '' : this.props.blog.content}</div>\n        <div className=\"blog-post-buttons\">\n            <button onClick={() => this.props.click(undefined)}>Back to Posts</button>\n            {this.props.blog === undefined ? <button onClick={this.createContent}>Create</button> : this.props.auth.id === this.props.blog.bloguserId ? <button onClick={this.editContent}>{this.state.edit ? 'Save Changes' : 'Edit Post'}</button> : ''}\n            {this.props.blog === undefined ? '' : this.props.auth.id === this.props.blog.bloguserId ? <button onClick={this.deleteContent}>Delete Post</button> : ''}\n        </div>\n      </div>\n    )\n  }\n}\n\nclass BlogDisplay extends React.Component {\n  selectBlog(blog) {\n    this.props.click(blog)\n  }\n  render() {\n    return (\n      <div className=\"blog-display\">\n        {this.props.blogs.map((blog) => {\n          return (\n            <div className=\"blog-item noselect\" key={blog.id} onClick={() => this.selectBlog(blog.id)}>\n              <div className=\"blog-title\">{blog.title}</div>\n              <div>{(new Date(blog.createdAt)).toString().split('GMT')[0]}</div>\n              <div>{'Author: ' + blog.bloguser.username}</div>\n              <div>{blog.content.length > 100 ? blog.content.substring(0,101) + '...' : blog.content}</div>\n            </div>\n          )\n        })}\n        {this.props.blogs.length === 0 ? <div>No User Blogs Present, Click Create Post to Start!</div> : ''}\n      </div>\n    )\n  }\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      testBlogs: [],\n      selectedBlog: undefined,\n      authenticated: false,\n      createUser: false,\n      badLogin: false,\n      badCreate: false\n    }\n    \n    this.setDisplayedBlog = this.setDisplayedBlog.bind(this)\n    this.flipCreateAccount = this.flipCreateAccount.bind(this)\n    this.setAuthentication = this.setAuthentication.bind(this)\n    this.logoutUser = this.logoutUser.bind(this)\n    this.getPosts = this.getPosts.bind(this)\n    this.displayCreateBlog = this.displayCreateBlog.bind(this)\n    this.editBlog = this.editBlog.bind(this)\n    this.deleteBlog = this.deleteBlog.bind(this)\n    this.createBlog = this.createBlog.bind(this)\n    this.createAccount = this.createAccount.bind(this)\n  }\n  async setAuthentication(username, password) {\n    let response = await fetch('/login', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({username, password})\n    })\n    if (response.status === 200) {\n      this.setState({\n        badLogin: false\n      })\n      response = await response.json()\n      this.setState({authenticated: {\n        username: response.user,\n        id: response.id\n      }})\n      this.getPosts(response.id)\n    }\n    else {\n      this.setState({\n        badLogin: true\n      })\n    }\n    \n  }\n  componentDidMount() {\n    document.title = 'VZ Blog'\n    this.checkAuthentication()\n    this.getPosts(this.state.authenticated.id)\n  }\n  async getPosts(userid) {\n    let link = '/posts'\n    if (userid !== undefined) link += '/' + userid\n    let response = await fetch(link)\n    response = await response.json()\n    this.setState({\n      testBlogs: response.outBlogs\n    })\n  }\n  async checkAuthentication() {\n    let response = await fetch('/login/auth')\n    let status = response.status\n    if (status === 200) {\n      response = await response.json()\n      this.setState({\n        authenticated: {\n          username: response.user,\n          id: response.id\n        }\n      })\n    }\n    \n  }\n  setDisplayedBlog(blog) {\n    this.setState({selectedBlog: blog})\n  }\n  async logoutUser() {\n    let response = await fetch('/logout')\n    if (response.status === 200) {\n      this.setState({\n        authenticated: false,\n        selectedBlog: undefined\n      })\n      this.getPosts()\n    }\n  }\n  flipCreateAccount() {\n    let old = !this.state.createUser;\n    this.setState({createUser: old})\n  }\n  async createAccount(firstName, lastName, username, password) {\n    let response = await fetch('/create', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({firstName, lastName, username, password})\n    })\n    if (response.status === 201) {\n      response = await response.json()\n      this.setState({\n        badCreate: false,\n        authenticated: {\n          username: response.user,\n          id: response.id\n        }\n      })\n\n    }\n    else {\n      this.setState({\n        badCreate: true\n      })\n      return\n    }\n    this.setState({\n      createUser: false\n    })\n  }\n  async createBlog(newBlog) {\n    let response = await fetch('/blog', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n       },\n      body: JSON.stringify(newBlog)\n    })\n    if (response.status !== 201) {\n      this.setState({\n        authenticated: false\n      })\n      return\n    }\n    response = await response.json()\n    this.setState({\n      testBlogs: response,\n      selectedBlog: undefined\n    })\n  }\n  async editBlog(newBlog) {\n    let response = await fetch('/post/' + newBlog.id, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(newBlog)\n    })\n    if (response.status !== 201) {\n      this.setState({\n        authenticated: false\n      })\n      return\n    }\n    response = await response.json()\n    this.setState({\n      testBlogs: response\n    })\n  }\n  async deleteBlog(id) {\n    let response = await fetch('/post/' + id, {\n      method: 'DELETE'\n    })\n    if (response.status !== 201) {\n      this.setState({\n        authenticated: false\n      })\n      return\n    }\n    response = await response.json()\n    this.setState({\n      testBlogs: response,\n      selectedBlog: undefined\n    })\n\n  }\n  displayCreateBlog() {\n    this.setState({\n      selectedBlog: 'create'\n    })\n  }\n  render() {\n    return (\n      <div>\n        <Header bad={this.state.badLogin} create={this.displayCreateBlog} logout={this.logoutUser} getPosts={this.getPosts} setauth={this.setAuthentication} click={this.flipCreateAccount} auth={this.state.authenticated}/>\n        {this.state.selectedBlog !== undefined && !this.state.createUser ? <BlogPost auth={this.state.authenticated} blog={this.state.testBlogs.find(blog => blog.id ===this.state.selectedBlog)} click={this.setDisplayedBlog} blogFunction={{edit: this.editBlog, delete: this.deleteBlog, create: this.createBlog}}/> : ''}\n        {this.state.selectedBlog === undefined && !this.state.createUser ? <BlogDisplay blogs={this.state.testBlogs} click={this.setDisplayedBlog}/>: ''}\n        {this.state.createUser ? <CreateUser bad={this.state.badCreate} create={this.createAccount}/> : ''}\n      </div>\n    )\n  }\n}\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}